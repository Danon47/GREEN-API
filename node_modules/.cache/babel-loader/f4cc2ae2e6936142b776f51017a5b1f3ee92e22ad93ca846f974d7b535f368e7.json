{"ast":null,"code":"import axios from 'axios';\nconst idInstance = localStorage.getItem('idInstance');\nconst apiToken = localStorage.getItem('apiToken');\nexport const sendMessage = async (phoneNumber, message) => {\n  try {\n    const response = await axios.post(`https://api.green-api.com/waInstance${idInstance}/SendMessage/${apiToken}`, {\n      chatId: `${phoneNumber}@c.us`,\n      message: message\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Ошибка отправки:', error);\n    throw error;\n  }\n};\nexport const receiveMessages = async () => {\n  try {\n    // const idInstance = localStorage.getItem('idInstance');\n    // const apiToken = localStorage.getItem('apiToken');\n\n    // if (!idInstance || !apiToken) {\n    //   console.log('Учетные данные отсутствуют');\n    //   return null;\n    // }\n\n    const response = await axios.get(`https://api.green-api.com/waInstance${idInstance}/ReceiveNotification/${apiToken}`);\n    return response.data;\n  } catch (error) {\n    console.error('Ошибка получения сообщений:', error);\n    return null;\n  }\n};","map":{"version":3,"names":["axios","idInstance","localStorage","getItem","apiToken","sendMessage","phoneNumber","message","response","post","chatId","data","error","console","receiveMessages","get"],"sources":["E:/данин стол/danil.DESKTOP-EN4V9AA/Тестовые/Грин-Апи/green-api-chat/src/api/greenApi.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst idInstance = localStorage.getItem('idInstance');\r\nconst apiToken = localStorage.getItem('apiToken');\r\n\r\nexport const sendMessage = async (phoneNumber, message) => {\r\n  try {\r\n    const response = await axios.post(\r\n      `https://api.green-api.com/waInstance${idInstance}/SendMessage/${apiToken}`,\r\n      {\r\n        chatId: `${phoneNumber}@c.us`,\r\n        message: message,\r\n      }\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Ошибка отправки:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const receiveMessages = async () => {\r\n    try {\r\n      // const idInstance = localStorage.getItem('idInstance');\r\n      // const apiToken = localStorage.getItem('apiToken');\r\n\r\n      // if (!idInstance || !apiToken) {\r\n      //   console.log('Учетные данные отсутствуют');\r\n      //   return null;\r\n      // }\r\n  \r\n      const response = await axios.get(\r\n        `https://api.green-api.com/waInstance${idInstance}/ReceiveNotification/${apiToken}`\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Ошибка получения сообщений:', error);\r\n      return null;\r\n    }\r\n  };"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;AACrD,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;AAEjD,OAAO,MAAME,WAAW,GAAG,MAAAA,CAAOC,WAAW,EAAEC,OAAO,KAAK;EACzD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,IAAI,CAC/B,uCAAuCR,UAAU,gBAAgBG,QAAQ,EAAE,EAC3E;MACEM,MAAM,EAAE,GAAGJ,WAAW,OAAO;MAC7BC,OAAO,EAAEA;IACX,CACF,CAAC;IACD,OAAOC,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IACxC,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAME,eAAe,GAAG,MAAAA,CAAA,KAAY;EACvC,IAAI;IACF;IACA;;IAEA;IACA;IACA;IACA;;IAEA,MAAMN,QAAQ,GAAG,MAAMR,KAAK,CAACe,GAAG,CAC9B,uCAAuCd,UAAU,wBAAwBG,QAAQ,EACnF,CAAC;IACD,OAAOI,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}